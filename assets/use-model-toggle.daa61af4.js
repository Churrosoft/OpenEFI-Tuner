import{B as H,C as S,g as P,w as T,D as C,o as W,n as x}from"./index.c4cfd3d6.js";const z=[null,document,document.body,document.scrollingElement,document.documentElement];function X(e,o){let n=H(o);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return z.includes(n)?window:n}function O(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function A(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function E(e,o,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],s=O(e);if(n<=0){s!==o&&w(e,o);return}requestAnimationFrame(u=>{const r=u-i,l=s+(o-s)/Math.max(r,n)*r;w(e,l),l!==o&&E(e,o,n-r,u)})}function L(e,o,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],s=A(e);if(n<=0){s!==o&&p(e,o);return}requestAnimationFrame(u=>{const r=u-i,l=s+(o-s)/Math.max(r,n)*r;p(e,l),l!==o&&L(e,o,n-r,u)})}function w(e,o){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o);return}e.scrollTop=o}function p(e,o){if(e===window){window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=o}function Y(e,o,n){if(n){E(e,o,n);return}w(e,o)}function q(e,o,n){if(n){L(e,o,n);return}p(e,o)}let f;function F(){if(f!==void 0)return f;const e=document.createElement("p"),o=document.createElement("div");S(e,{width:"100%",height:"200px"}),S(o,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),o.appendChild(e),document.body.appendChild(o);const n=e.offsetWidth;o.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=o.clientWidth),o.remove(),f=n-i,f}function N(e,o=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:o?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const B={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},D=["before-show","show","before-hide","hide"];function j({showing:e,canShow:o,hideOnRouteChange:n,handleShow:i,handleHide:s,processOnMount:u}){const r=P(),{props:l,emit:c,proxy:h}=r;let a;function M(t){e.value===!0?m(t):g(t)}function g(t){if(l.disable===!0||t!==void 0&&t.qAnchorHandled===!0||o!==void 0&&o(t)!==!0)return;const d=l["onUpdate:modelValue"]!==void 0;d===!0&&(c("update:modelValue",!0),a=t,x(()=>{a===t&&(a=void 0)})),(l.modelValue===null||d===!1)&&v(t)}function v(t){e.value!==!0&&(e.value=!0,c("before-show",t),i!==void 0?i(t):c("show",t))}function m(t){if(l.disable===!0)return;const d=l["onUpdate:modelValue"]!==void 0;d===!0&&(c("update:modelValue",!1),a=t,x(()=>{a===t&&(a=void 0)})),(l.modelValue===null||d===!1)&&b(t)}function b(t){e.value!==!1&&(e.value=!1,c("before-hide",t),s!==void 0?s(t):c("hide",t))}function y(t){l.disable===!0&&t===!0?l["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!1):t===!0!==e.value&&(t===!0?v:b)(a)}T(()=>l.modelValue,y),n!==void 0&&C(r)===!0&&T(()=>h.$route.fullPath,()=>{n.value===!0&&e.value===!0&&m()}),u===!0&&W(()=>{y(l.modelValue)});const V={show:g,hide:m,toggle:M};return Object.assign(h,V),V}export{D as a,j as b,X as c,O as d,A as e,q as f,F as g,N as h,Y as s,B as u};
