var R=Object.defineProperty,D=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var S=(t,n,e)=>n in t?R(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,d=(t,n)=>{for(var e in n||(n={}))L.call(n,e)&&S(t,e,n[e]);if(C)for(var e of C(n))N.call(n,e)&&S(t,e,n[e]);return t},b=(t,n)=>D(t,K(n));import{r as _,c as a,h as i,ak as M,al as f,V as G,u as H,am as J,g as U,v as q,s as W,a8 as X}from"./index.c4cfd3d6.js";import{a as Y,u as Z}from"./use-dark.328e3d09.js";function ee(t,n){const e=_(null),r=a(()=>t.disable!==!0?null:i("span",{ref:e,class:"no-outline",tabindex:-1}));function v(o){const u=n.value;o!==void 0&&o.type.indexOf("key")===0?u!==null&&document.activeElement!==u&&u.contains(document.activeElement)===!0&&u.focus():e.value!==null&&(o===void 0||u!==null&&u.contains(o.target)===!0)&&e.value.focus()}return{refocusTargetEl:r,refocusTarget:v}}const te={name:String};function le(t={}){return(n,e,r)=>{n[e](i("input",d({class:"hidden"+(r||"")},t.value)))}}var ne={xs:30,sm:35,md:40,lg:50,xl:60};const ae=b(d(d(d({},Z),J),te),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),oe=["update:modelValue"];function re(t,n){const{props:e,slots:r,emit:v,proxy:o}=U(),{$q:u}=o,y=Y(e,u),h=_(null),{refocusTargetEl:x,refocusTarget:$}=ee(e,h),O=M(e,ne),g=a(()=>e.val!==void 0&&Array.isArray(e.modelValue)),k=a(()=>{const l=f(e.val);return g.value===!0?e.modelValue.findIndex(c=>f(c)===l):-1}),s=a(()=>g.value===!0?k.value>-1:f(e.modelValue)===f(e.trueValue)),m=a(()=>g.value===!0?k.value===-1:f(e.modelValue)===f(e.falseValue)),V=a(()=>s.value===!1&&m.value===!1),T=a(()=>e.disable===!0?-1:e.tabindex||0),w=a(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(y.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),A=a(()=>{const l=s.value===!0?"truthy":m.value===!0?"falsy":"indet",c=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?s.value===!0:m.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${l}${c}`}),B=a(()=>{const l={type:"checkbox"};return e.name!==void 0&&Object.assign(l,{"^checked":s.value===!0?"checked":void 0,name:e.name,value:g.value===!0?e.val:e.trueValue}),l}),E=le(B),P=a(()=>{const l={tabindex:T.value,role:"checkbox","aria-label":e.label,"aria-checked":V.value===!0?"mixed":s.value===!0?"true":"false"};return e.disable===!0&&(l["aria-disabled"]="true"),l});function p(l){l!==void 0&&(q(l),$(l)),e.disable!==!0&&v("update:modelValue",j(),l)}function j(){if(g.value===!0){if(s.value===!0){const l=e.modelValue.slice();return l.splice(k.value,1),l}return e.modelValue.concat([e.val])}if(s.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(m.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function z(l){(l.keyCode===13||l.keyCode===32)&&q(l)}function F(l){(l.keyCode===13||l.keyCode===32)&&p(l)}const Q=n(s,V);return Object.assign(o,{toggle:p}),()=>{const l=Q();e.disable!==!0&&E(l,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const c=[i("div",{class:A.value,style:O.value},l)];x.value!==null&&c.push(x.value);const I=e.label!==void 0?G(r.default,[e.label]):H(r.default);return I!==void 0&&c.push(i("div",{class:`q-${t}__label q-anchor--skip`},I)),i("div",b(d({ref:h,class:w.value},P.value),{onClick:p,onKeydown:z,onKeyup:F}),c)}}var ce=W({name:"QToggle",props:b(d({},ae),{icon:String,iconColor:String}),emits:oe,setup(t){function n(e,r){const v=a(()=>(e.value===!0?t.checkedIcon:r.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),o=a(()=>e.value===!0?t.iconColor:null);return()=>[i("div",{class:"q-toggle__track"}),i("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},v.value!==void 0?[i(X,{name:v.value,color:o.value})]:void 0)]}return re("toggle",n)}});export{ce as Q};
