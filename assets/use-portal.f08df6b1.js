import{r as p,w,c as b,n as x,E as u,b as F,h as I,G as S,H as D,I as G}from"./index.c4cfd3d6.js";const O={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function T(e,t){const n=p(t.value);return w(t,f=>{x(()=>{n.value=f})}),{transition:b(()=>"q-transition--"+(n.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:b(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let i=[],l=[];function _(e){l=l.filter(t=>t!==e)}function Q(e){_(e),l.push(e)}function y(e){_(e),l.length===0&&i.length>0&&(i[i.length-1](),i=[])}function H(e){l.length===0?e():i.push(e)}const s=[];function N(e){return s.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function R(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return u(e)}else if(e.__qPortalInnerRef!==void 0){const n=u(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=u(e)}while(e!=null)}function j(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(n--,e.$options.name==="QMenu"){e=R(e,t);continue}e.hide(t)}e=u(e)}}function $(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function A(e,t,n,f){const o=p(!1),r=p(!1);let a=null;const c={},g=f===!0&&$(e);function q(d){if(d===!0){y(c),r.value=!0;return}r.value=!1,o.value===!1&&(g===!1&&a===null&&(a=D()),o.value=!0,s.push(e.proxy),Q(c))}function h(d){if(r.value=!1,d!==!0)return;y(c),o.value=!1;const P=s.indexOf(e.proxy);P>-1&&s.splice(P,1),a!==null&&(G(a),a=null)}return F(()=>{h(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:q,hidePortal:h,portalIsActive:o,portalIsAccessible:r,renderPortal:()=>g===!0?n():o.value===!0?[I(S,{to:a},n())]:void 0}}export{T as a,A as b,H as c,j as d,N as g,s as p,O as u};
